import{_ as n,W as r,X as s,Y as e,Z as a,a0 as t,a2 as d,C as l}from"./framework-a9f5de78.js";const c={},o=d(`<p>最近正好用到了消息队列中的 RabbitMQ ,今天就先来个前味菜，总结一下它在 centos 内的安装。</p><blockquote><p>环境：CentOS 8.0 64位</p></blockquote><h2 id="安装-erlang" tabindex="-1"><a class="header-anchor" href="#安装-erlang" aria-hidden="true">#</a> 安装 erlang</h2><p>由于 rabbitmq 是基于 erlang 语言开发的，所以必须先安装 erlang 。</p><h4 id="安装依赖" tabindex="-1"><a class="header-anchor" href="#安装依赖" aria-hidden="true">#</a> 安装依赖</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum -y install gcc glibc-devel make ncurses-devel openssl-devel xmlto perl wget gtk2-devel binutils-devel
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="下载" tabindex="-1"><a class="header-anchor" href="#下载" aria-hidden="true">#</a> 下载</h4>`,7),u={href:"https://www.erlang.org/downloads",target:"_blank",rel:"noopener noreferrer"},b=d(`<p>下载安装包</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> wget  http://erlang.org/download/otp_src_21.3.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>会比较慢，请耐心等待</p></blockquote><p>如果下载过程中退出了，可以使用</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>wget -c http://erlang.org/download/otp_src_21.3.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>来进行断点续传</p><h4 id="解压" tabindex="-1"><a class="header-anchor" href="#解压" aria-hidden="true">#</a> 解压</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>tar -zxvf otp_src_21.3.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e18dd7971a744e57a86a1850727e9b83~tplv-k3u1fbpfcp-zoom-1.image" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>遇到这个问题，没找到为什么，但是并未影响后续的安装</p><h4 id="移走" tabindex="-1"><a class="header-anchor" href="#移走" aria-hidden="true">#</a> 移走</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mv otp_src_21.3 /usr/local/soft/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>这个路径自己定义，后续的安装对应好即可</p></blockquote><h4 id="切换目录" tabindex="-1"><a class="header-anchor" href="#切换目录" aria-hidden="true">#</a> 切换目录</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cd /usr/local/soft/otp_src_21.3/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="创建即将安装的目录" tabindex="-1"><a class="header-anchor" href="#创建即将安装的目录" aria-hidden="true">#</a> 创建即将安装的目录</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mkdir ../erlang
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="配置安装路径" tabindex="-1"><a class="header-anchor" href="#配置安装路径" aria-hidden="true">#</a> 配置安装路径</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>./configure --prefix=/usr/local/soft/erlang
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果遇到这个错 你就假装没看到 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/511572c9278c4f9d91dac70f862d316b~tplv-k3u1fbpfcp-zoom-1.image" alt="" loading="lazy"></p><h4 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>make install
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看一下是否安装成功</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ll /usr/local/soft/erlang/bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="添加环境变量" tabindex="-1"><a class="header-anchor" href="#添加环境变量" aria-hidden="true">#</a> 添加环境变量</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>echo &#39;export PATH=$PATH:/usr/local/soft/erlang/bin&#39; &gt;&gt; /etc/profile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="刷新环境变量" tabindex="-1"><a class="header-anchor" href="#刷新环境变量" aria-hidden="true">#</a> 刷新环境变量</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>source /etc/profile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="甩一条命令" tabindex="-1"><a class="header-anchor" href="#甩一条命令" aria-hidden="true">#</a> 甩一条命令</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>erl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>瞬间进入了一个未知的世界 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/132dba3ca9974448be4137b09578b044~tplv-k3u1fbpfcp-zoom-1.image" alt="" loading="lazy"></p><p>在里面输入<code>halt().</code>命令退出来（那个点号别忘记） <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/329607a079394cd2b3ae566c2080a8c4~tplv-k3u1fbpfcp-zoom-1.image" alt="" loading="lazy"></p><p>至此，erlang 的安装就已经完成了，接下来安装 RabbitMQ。</p><h2 id="安装-rabbitmq" tabindex="-1"><a class="header-anchor" href="#安装-rabbitmq" aria-hidden="true">#</a> 安装 RabbitMQ</h2><p>需要查看 erlang 支持的 rabbitmq 版本号</p>`,35),p={href:"https://www.rabbitmq.com/which-erlang.html",target:"_blank",rel:"noopener noreferrer"},g=e("h4",{id:"下载-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#下载-1","aria-hidden":"true"},"#"),a(" 下载")],-1),h={href:"https://www.rabbitmq.com/install-generic-unix.html",target:"_blank",rel:"noopener noreferrer"},v=d(`<p>切换到 <code>/root</code> 下下载</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>wget https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.7.14/rabbitmq-server-generic-unix-3.7.14.tar.xz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="解压-1" tabindex="-1"><a class="header-anchor" href="#解压-1" aria-hidden="true">#</a> 解压</h4><p>第一次解压</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>xz -d rabbitmq-server-generic-unix-3.7.14.tar.xz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>第二次解压</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>tar -xvf rabbitmq-server-generic-unix-3.7.14.tar 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="移走-1" tabindex="-1"><a class="header-anchor" href="#移走-1" aria-hidden="true">#</a> 移走</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mv rabbitmq_server-3.7.14/ /usr/local/soft 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="配置环境变量" tabindex="-1"><a class="header-anchor" href="#配置环境变量" aria-hidden="true">#</a> 配置环境变量</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>echo &#39;export PATH=$PATH:/usr/local/soft/rabbitmq_server-3.7.14/sbin&#39; &gt;&gt; /etc/profile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="刷新环境变量-1" tabindex="-1"><a class="header-anchor" href="#刷新环境变量-1" aria-hidden="true">#</a> 刷新环境变量</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>source /etc/profile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="启动命令" tabindex="-1"><a class="header-anchor" href="#启动命令" aria-hidden="true">#</a> 启动命令</h4><p>进入 sbin 目录</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>cd /usr/local/soft/rabbitmq_server-3.7.14/sbin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>启动：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rabbitmq-server -detached
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>提示：Warning: PID file not written; -detached was passed.</p></blockquote><p>查看状态命令：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rabbitmqctl status
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e30e5c50669149b79426133841ec2036~tplv-k3u1fbpfcp-zoom-1.image" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>停止命令：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rabbitmqctl stop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>我的防火墙时关闭的，并且开放了端口 15672 。</p></blockquote><h4 id="开启web插件" tabindex="-1"><a class="header-anchor" href="#开启web插件" aria-hidden="true">#</a> 开启web插件</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rabbitmq-plugins enable rabbitmq_management
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,27),m={href:"http://127.0.0.1:15672/",target:"_blank",rel:"noopener noreferrer"},x=d(`<figure><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7af8d781517e49f387d71046f93de5f4~tplv-k3u1fbpfcp-zoom-1.image" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>默认账号密码：guest guest（这个账号只允许本机访问）</p></blockquote><h4 id="用户管理" tabindex="-1"><a class="header-anchor" href="#用户管理" aria-hidden="true">#</a> 用户管理</h4><p>查看所有用户</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rabbitmqctl list_users
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>添加一个用户</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rabbitmqctl add_user cheetah 123456
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>其中 cheetah 为用户名，123456 为密码，可自定义。</p></blockquote><p>配置权限</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rabbitmqctl set_permissions -p &quot;/&quot; cheetah &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看用户权限</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rabbitmqctl list_user_permissions cheetah
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>设置tag</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rabbitmqctl set_user_tags cheetah administrator
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>删除用户</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>rabbitmqctl delete_user guest 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>安全起见，删除默认用户</p></blockquote><h2 id="登陆" tabindex="-1"><a class="header-anchor" href="#登陆" aria-hidden="true">#</a> 登陆</h2><p>配置好用户之后重启一下 rabbitMQ 然后就可以用新账号进行登陆</p><figure><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66274b10d43442ba9fb3acd75629e68b~tplv-k3u1fbpfcp-zoom-1.image" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,20);function f(_,q){const i=l("ExternalLinkIcon");return r(),s("div",null,[o,e("p",null,[e("a",u,[a("erlang官网"),t(i)])]),b,e("ul",null,[e("li",null,[e("a",p,[a("版本对照地址"),t(i)])])]),g,e("ul",null,[e("li",null,[e("a",h,[a("下载地址"),t(i)])])]),v,e("p",null,[a("访问："),e("a",m,[a("http://127.0.0.1:15672/"),t(i)])]),x])}const w=n(c,[["render",f],["__file","CentOS8安装 erlang 和 RabbitMQ.html.vue"]]);export{w as default};
